YouTubeAnalyzer 초기화: 6개 API 키 사용 가능
================================================================================
YouTube Batch Data Collection
================================================================================
Started at: 2025-11-10 18:15:03
Dry run: False
================================================================================

Found 1 active keywords:

  1. 'Samsung QLED' - 1000 videos, 20 comments/video, region: US

================================================================================

================================================================================
Processing keyword 1/1: 'Samsung QLED'
================================================================================
================================================================================
YouTube Data Collection & Analysis Pipeline
================================================================================
Keyword: Samsung QLED
Max videos: 1000
Max comments per video: 20
Region: US
Summarize comments: True
Analyze sentiment: False
================================================================================

[Step 1/4] Collecting video data from YouTube API (1000 raw videos without filter)...

================================================================================
일반 수집 모드 (필터링 없음)
  - 목표 비디오 수: 1000개
================================================================================


[배치 1] 50개 비디오 수집 중...

[QUOTA EXCEEDED] API 할당량 초과 감지

[KEY ROTATION] API 키 #2로 전환됨 (잔여 키: 4개)
[RETRY] 새 API 키로 재시도...

[QUOTA EXCEEDED] API 할당량 초과 감지

[KEY ROTATION] API 키 #3로 전환됨 (잔여 키: 3개)
[RETRY] 새 API 키로 재시도...

[QUOTA EXCEEDED] API 할당량 초과 감지

[KEY ROTATION] API 키 #4로 전환됨 (잔여 키: 2개)
[RETRY] 새 API 키로 재시도...

[QUOTA EXCEEDED] API 할당량 초과 감지

[KEY ROTATION] API 키 #5로 전환됨 (잔여 키: 1개)
[RETRY] 새 API 키로 재시도...

[QUOTA EXCEEDED] API 할당량 초과 감지

[KEY ROTATION] API 키 #6로 전환됨 (잔여 키: 0개)
[RETRY] 새 API 키로 재시도...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 41개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 50개 / 목표: 1000개

[배치 2] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 37개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 95개 / 목표: 1000개

[배치 3] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 39개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 145개 / 목표: 1000개

[배치 4] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 43개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 195개 / 목표: 1000개

[배치 5] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 37개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 245개 / 목표: 1000개

[배치 6] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 44개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 295개 / 목표: 1000개

[배치 7] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 44개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 345개 / 목표: 1000개

[배치 8] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 37개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 373개 / 목표: 1000개

[배치 9] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 40개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 407개 / 목표: 1000개

[배치 10] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 36개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 457개 / 목표: 1000개

[배치 11] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 42개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 507개 / 목표: 1000개

[배치 12] 50개 비디오 수집 중...
  더 이상 수집할 비디오가 없습니다 (총 24개 수집)
  비디오 ID 24개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 20개 채널
  비디오 상세 정보 완료: 24개
  누적 수집된 비디오: 531개 / 목표: 1000개

[배치 13] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 38개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 548개 / 목표: 1000개

[배치 14] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 37개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 548개 / 목표: 1000개
  [경고] 연속 1번째 빈 배치 (새 비디오 없음)

[배치 15] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 39개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 548개 / 목표: 1000개
  [경고] 연속 2번째 빈 배치 (새 비디오 없음)

[배치 16] 50개 비디오 수집 중...
  비디오 ID 50개 수집 완료
  비디오 상세 정보 수집 중...
  채널 정보 수집 중...
채널 정보 수집 완료: 43개 채널
  비디오 상세 정보 완료: 50개
  누적 수집된 비디오: 548개 / 목표: 1000개
  [경고] 연속 3번째 빈 배치 (새 비디오 없음)

[조기 종료] 3번 연속 새 비디오 없음 - 더 이상 수집 가능한 비디오 없음
수집된 비디오: 548개 (목표: 1000개)

================================================================================
수집 완료: samsung qled in US
  - 총 수집 비디오 수: 774개
  - 최종 반환: 548개
  - 총 API 호출 수: 48
================================================================================

Collected 548 filtered videos
Raw data: 774 total videos

[Step 1.5/5] Saving raw and filtered videos to database...
Connected to PostgreSQL database: samsung_dx_sentiment
Tables created successfully (including youtube_videos_raw)
Inserted/Updated 774 raw videos
Inserted/Updated 548 videos

[ERROR] Failed to process 'Samsung QLED': 'cp949' codec can't encode character '\u2713' in position 2: illegal multibyte sequence

================================================================================
Batch Collection Summary
================================================================================
Completed at: 2025-11-10 18:15:17

Keywords processed: 0/1
Total videos collected: 0
Total comments collected: 0

Failed keywords (1):
  - 'Samsung QLED': 'cp949' codec can't encode character '\u2713' in position 2: illegal multibyte sequence

================================================================================
